(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),l=(a(26),a(3)),s=a.n(l),u=a(8),i=a(7),p=a(20),d=a(2),m=function(e,t){switch(t.type){case"GET_BOOKS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,books:t.payload});case"DELETE_BOOK":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,books:e.books.filter((function(e){return e._id!==t.payload}))});case"ADD_BOOK":return Object(d.a)(Object(d.a)({},e),{},{books:[].concat(Object(p.a)(e.books),[t.payload]),isLoading:!1});case"ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});default:return e}},b=a(9),f=a.n(b),O={isLoading:!0,error:"",books:[]},E=Object(n.createContext)(),v=function(e){var t=Object(n.useReducer)(m,O),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/books/".concat(t));case 3:e.sent,c({type:"DELETE_BOOK",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},e.next=4,f.a.post("/books",t,a);case 4:n=e.sent,c({type:"ADD_BOOK",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/books");case 3:t=e.sent,c({type:"GET_BOOKS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.Provider,{value:{books:o.books,deleteBook:l,addBook:p,getBooks:d,error:o.error,isLoading:o.isLoading}},e.children)},k=function(){var e=Object(n.useContext)(E),t=e.books,a=e.isLoading;return console.log(t),a?r.a.createElement("span",{class:"material-icons"},"hourglass_empty"):r.a.createElement("div",{className:"header"},r.a.createElement("h1",null," My Book-List"),0===t.length?r.a.createElement("span",null,"You have freetime, enjoy it"):r.a.createElement("span",null," Currently you have ",t.length," books "))},h=function(e){var t=Object(n.useContext)(E).deleteBook;return r.a.createElement("div",{className:"book-detail",onClick:function(){return t(e.id)}},r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.author))},y=a(6),j=function(){var e=Object(n.useContext)(E).addBook,t=Object(n.useState)({title:"",author:""}),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(y.a)({},a,n))}))};return r.a.createElement("div",{className:"book-form"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(o),c({title:"",author:""})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"title",className:"form-controller",placeholder:"Book title",onChange:l,value:o.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"author",className:"form-controller",placeholder:"Author",onChange:l,value:o.author})),r.a.createElement("button",{type:"submit"},"ADD")))},g=function(){var e=Object(n.useContext)(E),t=e.books,a=e.getBooks;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"book-list"},t.map((function(e,t){return r.a.createElement(h,{key:t,title:e.title,id:e._id,author:e.author})})),r.a.createElement(j,null))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null,r.a.createElement(k,null),r.a.createElement(g,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.05a4f8c1.chunk.js.map