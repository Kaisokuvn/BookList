(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),l=(a(26),a(3)),u=a.n(l),s=a(8),i=a(7),p=a(20),m=a(2),d=function(e,t){switch(t.type){case"GET_BOOKS":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,books:t.payload});case"DELETE_BOOK":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,books:e.books.filter((function(e){return e._id!==t.payload}))});case"ADD_BOOK":return Object(m.a)(Object(m.a)({},e),{},{books:[].concat(Object(p.a)(e.books),[t.payload]),isLoading:!1});case"ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.payload});default:return e}},b=a(9),f=a.n(b),k={isLoading:!0,error:"",books:[]},O=Object(n.createContext)(),h=function(e){var t=Object(n.useReducer)(d,k),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("https://booksappme.herokuapp.com/books/".concat(t));case 3:c({type:"DELETE_BOOK",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},e.next=4,f.a.post("https://booksappme.herokuapp.com/books",t,a);case 4:n=e.sent,c({type:"ADD_BOOK",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://booksappme.herokuapp.com/books");case 3:t=e.sent,c({type:"GET_BOOKS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:"ERROR",payload:e.t0.response.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(O.Provider,{value:{books:o.books,deleteBook:l,addBook:p,getBooks:m,error:o.error,isLoading:o.isLoading}},e.children)},E=function(){var e=Object(n.useContext)(O).books;return console.log(e),r.a.createElement("div",{className:"header"},r.a.createElement("h1",null," My Book-List"),0===e.length?r.a.createElement("span",null,"You have freetime, enjoy it"):r.a.createElement("span",null," Currently you have ",e.length," books "))},v=function(e){var t=Object(n.useContext)(O).deleteBook;return r.a.createElement("div",{className:"book-detail",onClick:function(){return t(e.id)}},r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.author))},y=a(6),j=function(){var e=Object(n.useContext)(O).addBook,t=Object(n.useState)({title:"",author:""}),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(y.a)({},a,n))}))};return r.a.createElement("div",{className:"book-form"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(o),c({title:"",author:""})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"title",className:"form-controller",placeholder:"Book title",onChange:l,value:o.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"author",className:"form-controller",placeholder:"Author",onChange:l,value:o.author})),r.a.createElement("button",{type:"submit"},"ADD")))},g=function(){var e=Object(n.useContext)(O),t=e.books,a=e.getBooks;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"book-list"},t.map((function(e,t){return r.a.createElement(v,{key:t,title:e.title,id:e._id,author:e.author})})),r.a.createElement(j,null))};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null,r.a.createElement(E,null),r.a.createElement(g,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.87901aad.chunk.js.map