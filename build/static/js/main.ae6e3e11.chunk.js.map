{"version":3,"sources":["reducer/BookReducer.js","context/BookContext.js","components/Header.jsx","components/BookDetail.jsx","components/BookForm.jsx","components/BookList.jsx","App.js","index.js"],"names":["BookReducer","state","action","type","isLoading","books","payload","filter","book","_id","error","initializeSate","BookContext","createContext","BookContextProvider","props","useReducer","dispatch","deleteBook","id","a","axios","delete","response","addBook","options","headers","post","newbook","data","getBooks","get","Provider","value","children","Header","useContext","console","log","className","length","BookDetail","onClick","title","author","BookForm","useState","setBook","handleChange","event","target","name","prevValue","onSubmit","preventDefault","placeholder","onChange","BookList","useEffect","map","index","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae6e3e11.chunk.js","sourcesContent":["export const BookReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_BOOKS\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        books:  action.payload\r\n      };\r\n    case \"DELETE_BOOK\":\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        books: state.books.filter((book) => book._id !== action.payload),\r\n      };\r\n    case \"ADD_BOOK\":\r\n      return {\r\n        ...state,\r\n        books: [...state.books, action.payload],\r\n        isLoading: false\r\n      };\r\n    case \"ERROR\":\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport { BookReducer } from \"../reducer/BookReducer\";\r\nimport axios from \"axios\";\r\n\r\nconst initializeSate = {\r\n  isLoading: true,\r\n  error: \"\",\r\n  books: [],\r\n};\r\n\r\nexport const BookContext = createContext();\r\n\r\nconst BookContextProvider = (props) => {\r\n  const [state, dispatch] = useReducer(BookReducer, initializeSate);\r\n\r\n  const deleteBook = async (id) => {\r\n    try {\r\n      await axios.delete(`/books/${id}`);\r\n      dispatch({ type: \"DELETE_BOOK\", payload: id });\r\n    } catch (error) {\r\n      dispatch({ type: \"ERROR\", payload: error.response.error });\r\n    }\r\n  };\r\n  const addBook = async (book) => {\r\n    try {\r\n      const options = {\r\n        headers: { \"content-type\": \"application/json\" },\r\n      };\r\n      const newbook = await axios.post(\"/books\", book, options);\r\n      dispatch({ type: \"ADD_BOOK\", payload: newbook.data.data });\r\n    } catch (error) {\r\n      dispatch({ type: \"ERROR\", payload: error.response.error });\r\n    }\r\n  };\r\n  const getBooks = async () => {\r\n    try {\r\n      const books = await axios.get(\"/books\");\r\n\r\n      dispatch({ type: \"GET_BOOKS\", payload: books.data.data });\r\n    } catch (error) {\r\n      dispatch({ type: \"ERROR\", payload: error.response.error });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BookContext.Provider\r\n      value={{\r\n        books: state.books,\r\n        deleteBook,\r\n        addBook,\r\n        getBooks,\r\n        error: state.error,\r\n        isLoading: state.isLoading\r\n      }}\r\n    >\r\n      {props.children}\r\n    </BookContext.Provider>\r\n  );\r\n};\r\n\r\nexport default BookContextProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { BookContext } from \"../context/BookContext\";\r\n\r\nconst Header = () => {\r\n  const { books } = useContext(BookContext);\r\n  console.log(books);\r\n  return (\r\n    <div className=\"header\">\r\n      <h1> My Book-List</h1>\r\n      {books.length === 0 ? (\r\n        <span>You have freetime, enjoy it</span>\r\n      ) : (\r\n        <span> Currently you have {books.length} books </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useContext } from \"react\";\r\nimport { BookContext } from \"../context/BookContext\";\r\n\r\nconst BookDetail = (props) => {\r\n   const {deleteBook} = useContext(BookContext);\r\n  return (\r\n    <div className=\"book-detail\" onClick={()=> deleteBook(props.id)}>\r\n      <p>{props.title}</p>\r\n      <p>{props.author}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetail;\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport { BookContext } from \"../context/BookContext\";\r\n\r\nconst BookForm = () => {\r\n  const { addBook } = useContext(BookContext);\r\n  const [ book, setBook ] = useState({\r\n    title: \"\",\r\n    author: \"\",\r\n  });\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setBook((prevValue) => {\r\n      return {\r\n        ...prevValue,\r\n\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    addBook(book);\r\n    setBook({\r\n      title: \"\",\r\n      author: \"\",\r\n      \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"book-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-controller\"\r\n            placeholder=\"Book title\"\r\n            onChange={handleChange}\r\n            value={book.title}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"author\"\r\n            className=\"form-controller\"\r\n            placeholder=\"Author\"\r\n            onChange={handleChange}\r\n            value={book.author}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">ADD</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookForm;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { BookContext } from \"../context/BookContext\";\r\nimport BookDetail from \"./BookDetail\";\r\nimport BookForm from \"./BookForm\";\r\n\r\nconst BookList = () => {\r\n  const { books, getBooks } = useContext(BookContext);\r\n  useEffect(()=>{\r\n    \r\n      getBooks();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"book-list\">\r\n      {books.map((book, index) => (\r\n        <BookDetail key={index} title={book.title} id={book._id} author={book.author} />\r\n      ))}\r\n      <BookForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookList;\r\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport BookContextProvider from \"./context/BookContext\";\nimport BookList from \"./components/BookList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BookContextProvider>\n        <Header />\n        <BookList />\n      </BookContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}